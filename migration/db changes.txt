
Migration order:

1. Users
  - users.sql
  - Check for duplicate usernames and e-mails and manually delete/update them:

--    delete from "users" where "id" in ( 6276, 4331, 6411, 6827, 8398 );
--
--    select "id", "username", "email", "joinDate", "lastActivity" from "users" where "username" in (
--          SELECT "username"
--          FROM "users"
--          GROUP BY "username"
--          HAVING ( COUNT("username") > 1 )
--        )
--    order by "username", "joinDate" asc;


--    update "users" set "email" = 'invalid@invalid7044.com' where "id" = 7044;
--    update "users" set "email" = 'invalid@invalid5674.com' where "id" = 5674;
--
--    select "id", "username", "email", "joinDate", "lastActivity" from "users" where "email" in (
--          SELECT "email"
--          FROM "users"
--          GROUP BY "email"
--          HAVING ( COUNT("email") > 1 )
--        )
--    order by "email", "joinDate" asc;

  - Manually update usernames that use newly forbidden characters:

--    select * from users where username like '%,%';
--    select * from users where username like '%@%';

  - user-url-slug-generation.js
  - user-hash-generation.js
  - user-signature-markdown-generation.js

2. Topics
  - topics.sql
  - topic-title-markdown-generation.js
  - topic-url-slug-generation.js

3. Posts
  - posts.sql
  - post-content-markdown-generation.js

4. Batch items
  - batch.sql

5. PM migration
  - private-messages.sql

6. Archive restoration
  - archives.sql

7. Run the following again:
  - topic-title-markdown-generation.js
  - topic-url-slug-generation.js
  - post-content-markdown-generation.js

