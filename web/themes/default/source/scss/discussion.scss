////////////////////////////
//   discussion pattern   //
////////////////////////////

body[data-controller="discussion"][data-view="discussion"],
body[data-controller="announcements"][data-view="announcements"],
body[data-controller="private-topics"][data-view="private-topics"] {

  main > p {
    margin: 4vw 4vw 6vw;
    color: white;
  }
  nav.actions {
    @include background-color(14%, 22%);

    &:before {
      left: 0;
      background-image: linear-gradient(to right, hsl(225, 14%, 22%), hsla(225, 14%, 22%, 0));
    }
    &:after {
      right: 0;
      background-image: linear-gradient(to left, hsl(225, 14%, 22%), hsla(225, 14%, 22%, 0));
    }
  }
  article.topic {
    position: relative;
    padding: 4vw 0 6vw;

    h3 {
      margin-bottom: 8vw;
    }
    p.details {
      margin: 4vw 24vw 2vw 4vw;
      text-align: right;
    }
    p.stats {
      margin: 2vw 24vw 0 0;
      text-align: right;
    }
    span.replies {
      font-family: $boldFont;
    }
    a.avatar {
      display: block;
      position: absolute;
      right: -4vw;
      bottom: 4vw;
      width: 20vw;
      height: 20vw;

      img {
        width: 100%;
        height: 100%;
        border-radius: 10% 0 0 10%;
      }
    }

    &.unread {
      h3 {
        margin-right: 20vw;
      }
      a.unread {
        position: absolute;
        right: 2vw;
        top: 7vw;
        display: block;
        margin: 0;
        width: 18vw;
        font-size: 85%;
        text-align: center;
      }
    }
  }

}

body[data-controller="discussion"][data-view="discussion"] {

  section.announcements {
    article {
      padding: 3vw 0 4vw;
    }
  }
  nav.actions {
    ul {
      padding-top: 0;
    }
  }

  @media only screen and (min-width: 768px) {

    section.announcements {
      article {
        padding: 2vw 0;
      }
    }

    section.announcements,
    section.topics {
      display: flex;
      flex-wrap: wrap;

      h2 {
        flex: 1 0 50%;
      }
      nav.actions {
        flex: 1 0 50%;
        align-self: center;

        ul {
          padding: 0 4vw;
        }
        li {
          margin-bottom: 0;
        }
      }
      article {
        width: 100%;
      }
    }

  }

}
